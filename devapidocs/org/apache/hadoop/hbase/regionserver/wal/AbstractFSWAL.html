<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AbstractFSWAL (Apache HBase 4.0.0-alpha-1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.regionserver.wal, class: AbstractFSWAL">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AbstractFSWAL.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.regionserver.wal</a></div>
<h1 title="Class AbstractFSWAL" class="title">Class AbstractFSWAL&lt;W extends <a href="../../wal/WALProvider.WriterBase.html" title="interface in org.apache.hadoop.hbase.wal">WALProvider.WriterBase</a>&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL&lt;W&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code>, <code><a href="../../replication/regionserver/WALFileLengthProvider.html" title="interface in org.apache.hadoop.hbase.replication.regionserver">WALFileLengthProvider</a></code>, <code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="AsyncFSWAL.html" title="class in org.apache.hadoop.hbase.regionserver.wal">AsyncFSWAL</a></code>, <code><a href="FSHLog.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSHLog</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Private
</span><span class="modifiers">public abstract class </span><span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-147">AbstractFSWAL</a>&lt;W extends <a href="../../wal/WALProvider.WriterBase.html" title="interface in org.apache.hadoop.hbase.wal">WALProvider.WriterBase</a>&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></span></div>
<div class="block">Implementation of <a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal"><code>WAL</code></a> to go against <code>FileSystem</code>; i.e. keep WALs in HDFS. Only one
 WAL is ever being written at a time. When a WAL hits a configured maximum size, it is rolled.
 This is done internal to the implementation.
 <p>
 As data is flushed from the MemStore to other on-disk structures (files sorted by key, hfiles), a
 WAL becomes obsolete. We can let go of all the log edits/entries for a given HRegion-sequence id.
 A bunch of work in the below is done keeping account of these region sequence ids -- what is
 flushed out to hfiles, and what is yet in WAL and in memory only.
 <p>
 It is only practical to delete entire files. Thus, we delete an entire on-disk file
 <code>F</code> when all of the edits in <code>F</code> have a log-sequence-id that's older
 (smaller) than the most-recent flush.
 <p>
 To read an WAL, call <a href="../../wal/WALFactory.html#createStreamReader(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)"><code>WALFactory.createStreamReader(FileSystem, Path)</code></a> for one way read,
 call <a href="../../wal/WALFactory.html#createTailingReader(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.conf.Configuration,long)"><code>WALFactory.createTailingReader(FileSystem, Path, Configuration, long)</code></a> for
 replication where we may want to tail the active WAL file.
 <h2>Failure Semantic</h2> If an exception on append or sync, roll the WAL because the current WAL
 is now a lame duck; any more appends or syncs will fail also with the same original exception. If
 we have made successful appends to the WAL and we then are unable to sync them, our current
 semantic is to return error to the client that the appends failed but also to abort the current
 context, usually the hosting server. We need to replay the WALs. <br>
 TODO: Change this semantic. A roll of WAL may be sufficient as long as we have flagged client
 that the append failed. <br>
 TODO: replication may pick up these last edits though they have been marked as failed append
 (Need to keep our own file lengths, not rely on HDFS).</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private static final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="AbstractFSWAL.WALProps.html" class="type-name-link" title="class in org.apache.hadoop.hbase.regionserver.wal">AbstractFSWAL.WALProps</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.apache.hadoop.hbase.wal.WAL">Nested classes/interfaces inherited from interface&nbsp;org.apache.hadoop.hbase.wal.<a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></h2>
<code><a href="../../wal/WAL.Entry.html" title="class in org.apache.hadoop.hbase.wal">WAL.Entry</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final <a href="../../Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a></code></div>
<div class="col-second even-row-color"><code><a href="#abortable" class="member-name-link">abortable</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final int</code></div>
<div class="col-second odd-row-color"><code><a href="#archiveRetries" class="member-name-link">archiveRetries</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final long</code></div>
<div class="col-second even-row-color"><code><a href="#batchSize" class="member-name-link">batchSize</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final long</code></div>
<div class="col-second odd-row-color"><code><a href="#blocksize" class="member-name-link">blocksize</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Block size to use writing files.</div>
</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#closed" class="member-name-link">closed</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></code></div>
<div class="col-second odd-row-color"><code><a href="#closeExecutor" class="member-name-link">closeExecutor</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final org.apache.hadoop.conf.Configuration</code></div>
<div class="col-second even-row-color"><code><a href="#conf" class="member-name-link">conf</a></code></div>
<div class="col-last even-row-color">
<div class="block">conf object</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></code></div>
<div class="col-second odd-row-color"><code><a href="#consumeExecutor" class="member-name-link">consumeExecutor</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html" title="class or interface in java.util.concurrent.locks" class="external-link">Lock</a></code></div>
<div class="col-second even-row-color"><code><a href="#consumeLock" class="member-name-link">consumeLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></div>
<div class="col-second odd-row-color"><code><a href="#consumer" class="member-name-link">consumer</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></code></div>
<div class="col-second even-row-color"><code><a href="#consumerScheduled" class="member-name-link">consumerScheduled</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="WALCoprocessorHost.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALCoprocessorHost</a></code></div>
<div class="col-second odd-row-color"><code><a href="#coprocessorHost" class="member-name-link">coprocessorHost</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_ROLL_ON_SYNC_TIME_MS" class="member-name-link">DEFAULT_ROLL_ON_SYNC_TIME_MS</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_SLOW_SYNC_ROLL_INTERVAL_MS" class="member-name-link">DEFAULT_SLOW_SYNC_ROLL_INTERVAL_MS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_SLOW_SYNC_ROLL_THRESHOLD" class="member-name-link">DEFAULT_SLOW_SYNC_ROLL_THRESHOLD</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_SLOW_SYNC_TIME_MS" class="member-name-link">DEFAULT_SLOW_SYNC_TIME_MS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final long</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_WAL_BATCH_SIZE" class="member-name-link">DEFAULT_WAL_BATCH_SIZE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_WAL_SHUTDOWN_WAIT_TIMEOUT_MS" class="member-name-link">DEFAULT_WAL_SHUTDOWN_WAIT_TIMEOUT_MS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_WAL_SYNC_TIMEOUT_MS" class="member-name-link">DEFAULT_WAL_SYNC_TIMEOUT_MS</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private int</code></div>
<div class="col-second odd-row-color"><code><a href="#epochAndState" class="member-name-link">epochAndState</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private long</code></div>
<div class="col-second even-row-color"><code><a href="#fileLengthAtLastSync" class="member-name-link">fileLengthAtLastSync</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></code></div>
<div class="col-second odd-row-color"><code><a href="#filenum" class="member-name-link">filenum</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final org.apache.hadoop.fs.FileSystem</code></div>
<div class="col-second even-row-color"><code><a href="#fs" class="member-name-link">fs</a></code></div>
<div class="col-last even-row-color">
<div class="block">file system instance</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#hasConsumerTask" class="member-name-link">hasConsumerTask</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected long</code></div>
<div class="col-second even-row-color"><code><a href="#highestProcessedAppendTxid" class="member-name-link">highestProcessedAppendTxid</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private long</code></div>
<div class="col-second odd-row-color"><code><a href="#highestProcessedAppendTxidAtLastSync" class="member-name-link">highestProcessedAppendTxidAtLastSync</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></code></div>
<div class="col-second even-row-color"><code><a href="#highestSyncedTxid" class="member-name-link">highestSyncedTxid</a></code></div>
<div class="col-last even-row-color">
<div class="block">Updated to the transaction id of the last successful sync call.</div>
</div>
<div class="col-first odd-row-color"><code>protected long</code></div>
<div class="col-second odd-row-color"><code><a href="#highestUnsyncedTxid" class="member-name-link">highestUnsyncedTxid</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The highest known outstanding unsync'd WALEdit transaction id.</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#implClassName" class="member-name-link">implClassName</a></code></div>
<div class="col-last even-row-color">
<div class="block">The class name of the runtime implementation, used as prefix for logging/tracing.</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#inflightWALClosures" class="member-name-link">inflightWALClosures</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Tracks the logs in the process of being closed.</div>
</div>
<div class="col-first even-row-color"><code>private long</code></div>
<div class="col-second even-row-color"><code><a href="#lastTimeCheckLowReplication" class="member-name-link">lastTimeCheckLowReplication</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private long</code></div>
<div class="col-second odd-row-color"><code><a href="#lastTimeCheckSlowSync" class="member-name-link">lastTimeCheckSlowSync</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#listeners" class="member-name-link">listeners</a></code></div>
<div class="col-last even-row-color">
<div class="block">Listeners that are called on WAL events.</div>
</div>
<div class="col-first odd-row-color"><code>private static final org.slf4j.Logger</code></div>
<div class="col-second odd-row-color"><code><a href="#LOG" class="member-name-link">LOG</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a>&lt;org.apache.hadoop.fs.Path&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#LOG_NAME_COMPARATOR" class="member-name-link">LOG_NAME_COMPARATOR</a></code></div>
<div class="col-last even-row-color">
<div class="block">WAL Comparator; it compares the timestamp (log filenum), present in the log file name.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></code></div>
<div class="col-second odd-row-color"><code><a href="#logArchiveExecutor" class="member-name-link">logArchiveExecutor</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final long</code></div>
<div class="col-second even-row-color"><code><a href="#logrollsize" class="member-name-link">logrollsize</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#markerEditOnly" class="member-name-link">markerEditOnly</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private static final int</code></div>
<div class="col-second even-row-color"><code><a href="#MAX_EPOCH" class="member-name-link">MAX_EPOCH</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#MAX_LOGS" class="member-name-link">MAX_LOGS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#maxLogs" class="member-name-link">maxLogs</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private long</code></div>
<div class="col-second odd-row-color"><code><a href="#nextLogTooOldNs" class="member-name-link">nextLogTooOldNs</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></code></div>
<div class="col-second even-row-color"><code><a href="#numEntries" class="member-name-link">numEntries</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final org.apache.hadoop.fs.PathFilter</code></div>
<div class="col-second odd-row-color"><code><a href="#ourFiles" class="member-name-link">ourFiles</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Matches just those wal files that belong to this wal instance.</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#prefixPathStr" class="member-name-link">prefixPathStr</a></code></div>
<div class="col-last even-row-color">
<div class="block">Prefix used when checking for wal membership.</div>
</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#readyForRolling" class="member-name-link">readyForRolling</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html" title="class or interface in java.util.concurrent.locks" class="external-link">Condition</a></code></div>
<div class="col-second even-row-color"><code><a href="#readyForRollingCond" class="member-name-link">readyForRollingCond</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final org.apache.hadoop.fs.FileSystem</code></div>
<div class="col-second odd-row-color"><code><a href="#remoteFs" class="member-name-link">remoteFs</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final org.apache.hadoop.fs.Path</code></div>
<div class="col-second even-row-color"><code><a href="#remoteWALDir" class="member-name-link">remoteWALDir</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#RING_BUFFER_SLOT_COUNT" class="member-name-link">RING_BUFFER_SLOT_COUNT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#ROLL_ON_SYNC_TIME_MS" class="member-name-link">ROLL_ON_SYNC_TIME_MS</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final long</code></div>
<div class="col-second odd-row-color"><code><a href="#rollOnSyncNs" class="member-name-link">rollOnSyncNs</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The slow sync will be logged; the very slow sync will cause the WAL to be rolled.</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></code></div>
<div class="col-second even-row-color"><code><a href="#rollRequested" class="member-name-link">rollRequested</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></code></div>
<div class="col-second odd-row-color"><code><a href="#rollWriterLock" class="member-name-link">rollWriterLock</a></code></div>
<div class="col-last odd-row-color">
<div class="block">This lock makes sure only one log roll runs at a time.</div>
</div>
<div class="col-first even-row-color"><code>private static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a>&lt;<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#SEQ_COMPARATOR" class="member-name-link">SEQ_COMPARATOR</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="SequenceIdAccounting.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SequenceIdAccounting</a></code></div>
<div class="col-second odd-row-color"><code><a href="#sequenceIdAccounting" class="member-name-link">sequenceIdAccounting</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Class that does accounting of sequenceids in WAL subsystem.</div>
</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#shouldShutDownConsumeExecutorWhenClose" class="member-name-link">shouldShutDownConsumeExecutorWhenClose</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></code></div>
<div class="col-second odd-row-color"><code><a href="#shutdown" class="member-name-link">shutdown</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#skipRemoteWAL" class="member-name-link">skipRemoteWAL</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SLOW_SYNC_ROLL_INTERVAL_MS" class="member-name-link">SLOW_SYNC_ROLL_INTERVAL_MS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SLOW_SYNC_ROLL_THRESHOLD" class="member-name-link">SLOW_SYNC_ROLL_THRESHOLD</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SLOW_SYNC_TIME_MS" class="member-name-link">SLOW_SYNC_TIME_MS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#slowSyncCheckInterval" class="member-name-link">slowSyncCheckInterval</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></code></div>
<div class="col-second odd-row-color"><code><a href="#slowSyncCount" class="member-name-link">slowSyncCount</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final long</code></div>
<div class="col-second even-row-color"><code><a href="#slowSyncNs" class="member-name-link">slowSyncNs</a></code></div>
<div class="col-last even-row-color">
<div class="block">The slow sync will be logged; the very slow sync will cause the WAL to be rolled.</div>
</div>
<div class="col-first odd-row-color"><code>protected final int</code></div>
<div class="col-second odd-row-color"><code><a href="#slowSyncRollThreshold" class="member-name-link">slowSyncRollThreshold</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private static final long</code></div>
<div class="col-second even-row-color"><code><a href="#SURVIVED_TOO_LONG_LOG_INTERVAL_NS" class="member-name-link">SURVIVED_TOO_LONG_LOG_INTERVAL_NS</a></code></div>
<div class="col-last even-row-color">
<div class="block">Don't log blocking regions more frequently than this.</div>
</div>
<div class="col-first odd-row-color"><code>private static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#SURVIVED_TOO_LONG_SEC_DEFAULT" class="member-name-link">SURVIVED_TOO_LONG_SEC_DEFAULT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SURVIVED_TOO_LONG_SEC_KEY" class="member-name-link">SURVIVED_TOO_LONG_SEC_KEY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="SyncFutureCache.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFutureCache</a></code></div>
<div class="col-second odd-row-color"><code><a href="#syncFutureCache" class="member-name-link">syncFutureCache</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A cache of sync futures reused by threads.</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html" title="class or interface in java.util" class="external-link">SortedSet</a>&lt;<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#syncFutures" class="member-name-link">syncFutures</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></code></div>
<div class="col-second odd-row-color"><code><a href="#totalLogSize" class="member-name-link">totalLogSize</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The total size of wal</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#toWriteAppends" class="member-name-link">toWriteAppends</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#unackedAppends" class="member-name-link">unackedAppends</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final boolean</code></div>
<div class="col-second even-row-color"><code><a href="#useHsync" class="member-name-link">useHsync</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final com.lmax.disruptor.RingBuffer&lt;<a href="RingBufferTruck.html" title="class in org.apache.hadoop.hbase.regionserver.wal">RingBufferTruck</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#waitingConsumePayloads" class="member-name-link">waitingConsumePayloads</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final com.lmax.disruptor.Sequence</code></div>
<div class="col-second even-row-color"><code><a href="#waitingConsumePayloadsGatingSequence" class="member-name-link">waitingConsumePayloadsGatingSequence</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private int</code></div>
<div class="col-second odd-row-color"><code><a href="#waitOnShutdownInSeconds" class="member-name-link">waitOnShutdownInSeconds</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#waitOnShutdownInSecondsConfigKey" class="member-name-link">waitOnShutdownInSecondsConfigKey</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#WAL_AVOID_LOCAL_WRITES_DEFAULT" class="member-name-link">WAL_AVOID_LOCAL_WRITES_DEFAULT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#WAL_AVOID_LOCAL_WRITES_KEY" class="member-name-link">WAL_AVOID_LOCAL_WRITES_KEY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#WAL_BATCH_SIZE" class="member-name-link">WAL_BATCH_SIZE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#WAL_ROLL_MULTIPLIER" class="member-name-link">WAL_ROLL_MULTIPLIER</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#WAL_SHUTDOWN_WAIT_TIMEOUT_MS" class="member-name-link">WAL_SHUTDOWN_WAIT_TIMEOUT_MS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#WAL_SYNC_TIMEOUT_MS" class="member-name-link">WAL_SYNC_TIMEOUT_MS</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color"><code><a href="#walArchiveDir" class="member-name-link">walArchiveDir</a></code></div>
<div class="col-last odd-row-color">
<div class="block">dir path where old logs are kept.</div>
</div>
<div class="col-first even-row-color"><code>protected final org.apache.hadoop.fs.Path</code></div>
<div class="col-second even-row-color"><code><a href="#walDir" class="member-name-link">walDir</a></code></div>
<div class="col-last even-row-color">
<div class="block">WAL directory, where all WAL files would be placed.</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;org.apache.hadoop.fs.Path,<wbr><a href="AbstractFSWAL.WALProps.html" title="class in org.apache.hadoop.hbase.regionserver.wal">AbstractFSWAL.WALProps</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#walFile2Props" class="member-name-link">walFile2Props</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Map of WAL log file to properties.</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#walFilePrefix" class="member-name-link">walFilePrefix</a></code></div>
<div class="col-last even-row-color">
<div class="block">Prefix of a WAL file, usually the region server name it is hosted on.</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#walFileSuffix" class="member-name-link">walFileSuffix</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Suffix included on generated wal file names</div>
</div>
<div class="col-first even-row-color"><code>protected final long</code></div>
<div class="col-second even-row-color"><code><a href="#walShutdownTimeout" class="member-name-link">walShutdownTimeout</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final long</code></div>
<div class="col-second odd-row-color"><code><a href="#walSyncTimeoutNs" class="member-name-link">walSyncTimeoutNs</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final long</code></div>
<div class="col-second even-row-color"><code><a href="#walTooOldNs" class="member-name-link">walTooOldNs</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></code></div>
<div class="col-second odd-row-color"><code><a href="#writer" class="member-name-link">writer</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Current log file.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.hbase.Abortable,org.apache.hadoop.fs.Path,java.lang.String,java.lang.String,org.apache.hadoop.conf.Configuration,java.util.List,boolean,java.lang.String,java.lang.String,org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">AbstractFSWAL</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 <a href="../../Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable,
 org.apache.hadoop.fs.Path&nbsp;rootDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;logDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;archiveDir,
 org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;&nbsp;listeners,
 boolean&nbsp;failIfWALExists,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prefix,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;suffix,
 org.apache.hadoop.fs.FileSystem&nbsp;remoteFs,
 org.apache.hadoop.fs.Path&nbsp;remoteWALDir)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#abortCacheFlush(byte%5B%5D)" class="member-name-link">abortCacheFlush</a><wbr>(byte[]&nbsp;encodedRegionName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Abort a cache flush.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#append(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit,boolean)" class="member-name-link">append</a><wbr>(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;hri,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits,
 boolean&nbsp;inMemstore)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Append a set of edits to the WAL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#appendAndSync()" class="member-name-link">appendAndSync</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#appendData(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)" class="member-name-link">appendData</a><wbr>(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;info,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Append a set of data edits to the WAL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#appendEntry(W,org.apache.hadoop.hbase.regionserver.wal.FSWALEntry)" class="member-name-link">appendEntry</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 <a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&nbsp;entry)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#appendMarker(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)" class="member-name-link">appendMarker</a><wbr>(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;info,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Append an operational 'meta' event marker edit to the WAL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#archive(org.apache.hadoop.hbase.util.Pair)" class="member-name-link">archive</a><wbr>(<a href="../../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;org.apache.hadoop.fs.Path,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;log)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#archiveLogFile(org.apache.hadoop.fs.Path)" class="member-name-link">archiveLogFile</a><wbr>(org.apache.hadoop.fs.Path&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#atHeadOfRingBufferEventHandlerAppend()" class="member-name-link">atHeadOfRingBufferEventHandlerAppend</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Exposed for testing only.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#blockOnSync(org.apache.hadoop.hbase.regionserver.wal.SyncFuture)" class="member-name-link">blockOnSync</a><wbr>(<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&nbsp;syncFuture)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calculateMaxLogFiles(org.apache.hadoop.conf.Configuration,long)" class="member-name-link">calculateMaxLogFiles</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 long&nbsp;logRollSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkLogLowReplication(long)" class="member-name-link">checkLogLowReplication</a><wbr>(long&nbsp;checkInterval)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkSlowSyncCount()" class="member-name-link">checkSlowSyncCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cleanOldLogs()" class="member-name-link">cleanOldLogs</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Archive old logs.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Caller no longer needs any edits from this WAL.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#closeWriter(W,org.apache.hadoop.fs.Path)" class="member-name-link">closeWriter</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#completeCacheFlush(byte%5B%5D,long)" class="member-name-link">completeCacheFlush</a><wbr>(byte[]&nbsp;encodedRegionName,
 long&nbsp;maxFlushedSeqId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Complete the cache flush.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeFilename(long)" class="member-name-link">computeFilename</a><wbr>(long&nbsp;filenum)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This is a convenience method that computes a new filename with a given file-number.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#consume()" class="member-name-link">consume</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertInterruptedExceptionToIOException(java.lang.InterruptedException)" class="member-name-link">convertInterruptedExceptionToIOException</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a>&nbsp;ie)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createCombinedWriter(W,org.apache.hadoop.fs.Path)" class="member-name-link">createCombinedWriter</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;localWriter,
 org.apache.hadoop.fs.Path&nbsp;localPath)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#createCombinedWriter(W,W)" class="member-name-link">createCombinedWriter</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;localWriter,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;remoteWriter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSingleThreadPoolConsumeExecutor(java.lang.String,org.apache.hadoop.fs.Path,java.lang.String)" class="member-name-link">createSingleThreadPoolConsumeExecutor</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;walType,
 org.apache.hadoop.fs.Path&nbsp;rootDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prefix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private io.opentelemetry.api.trace.Span</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSpan(java.lang.String)" class="member-name-link">createSpan</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#createWriterInstance(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">createWriterInstance</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doAppend(W,org.apache.hadoop.hbase.regionserver.wal.FSWALEntry)" class="member-name-link">doAppend</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 <a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&nbsp;entry)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doCheckLogLowReplication()" class="member-name-link">doCheckLogLowReplication</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCheckSlowSync()" class="member-name-link">doCheckSlowSync</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if we exceeded the slow sync roll threshold over the last check interval</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCleanUpResources()" class="member-name-link">doCleanUpResources</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doReplaceWriter(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,W)" class="member-name-link">doReplaceWriter</a><wbr>(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;nextWriter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Notice that you need to clear the <a href="#rollRequested"><code>rollRequested</code></a> flag in this method, as the new writer
 will begin to work before returning from this method.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doShutdown()" class="member-name-link">doShutdown</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doSync(boolean)" class="member-name-link">doSync</a><wbr>(boolean&nbsp;forceSync)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doSync(long,boolean)" class="member-name-link">doSync</a><wbr>(long&nbsp;txid,
 boolean&nbsp;forceSync)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doWriterSync(W,boolean,long)" class="member-name-link">doWriterSync</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 boolean&nbsp;shouldUseHsync,
 long&nbsp;txidWhenSyn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#drainNonMarkerEditsAndFailSyncs()" class="member-name-link">drainNonMarkerEditsAndFailSyncs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ensureIOException(java.lang.Throwable)" class="member-name-link">ensureIOException</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;t)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#epoch(int)" class="member-name-link">epoch</a><wbr>(int&nbsp;epochAndState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findRegionsToForceFlush()" class="member-name-link">findRegionsToForceFlush</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the number of un-archived WAL files ('live' WALs) is greater than maximum allowed, check the
 first (oldest) WAL, and return those regions which should be flushed so that it can be
 let-go/'archived'.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finishSync()" class="member-name-link">finishSync</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finishSyncLowerThanTxid(long)" class="member-name-link">finishSyncLowerThanTxid</a><wbr>(long&nbsp;txid)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="WALCoprocessorHost.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALCoprocessorHost</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCoprocessorHost()" class="member-name-link">getCoprocessorHost</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns Coprocessor host.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentFileName()" class="member-name-link">getCurrentFileName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This is a convenience method that computes a new filename with a given using the current WAL
 file-number</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEarliestMemStoreSeqNum(byte%5B%5D,byte%5B%5D)" class="member-name-link">getEarliestMemStoreSeqNum</a><wbr>(byte[]&nbsp;encodedRegionName,
 byte[]&nbsp;familyName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the earliest unflushed sequence id in the memstore for the store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFilenum()" class="member-name-link">getFilenum</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFileNumFromFileName(org.apache.hadoop.fs.Path)" class="member-name-link">getFileNumFromFileName</a><wbr>(org.apache.hadoop.fs.Path&nbsp;fileName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A log file has a creation timestamp (in ms) in its file name (<a href="#filenum"><code>filenum</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) org.apache.hadoop.fs.FileStatus[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFiles()" class="member-name-link">getFiles</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the backing files associated with this WAL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInflightWALCloseCount()" class="member-name-link">getInflightWALCloseCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns number of WALs currently in the process of closing.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getLastTxid(java.util.Deque)" class="member-name-link">getLastTxid</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&gt;&nbsp;queue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLogFileSize()" class="member-name-link">getLogFileSize</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the size of log files in use</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalLong.html" title="class or interface in java.util" class="external-link">OptionalLong</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLogFileSizeIfBeingWritten(org.apache.hadoop.fs.Path)" class="member-name-link">getLogFileSizeIfBeingWritten</a><wbr>(org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">if the given <code>path</code> is being written currently, then return its length.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>(package private) abstract int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getLogReplication()" class="member-name-link">getLogReplication</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This method gets the datanode replication count for the current WAL.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNewPath()" class="member-name-link">getNewPath</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">retrieve the next path to use for writing.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNumLogFiles()" class="member-name-link">getNumLogFiles</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of log files in use</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNumRolledLogFiles()" class="member-name-link">getNumRolledLogFiles</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of rolled log files</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.hadoop.fs.Path</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOldPath()" class="member-name-link">getOldPath</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>(package private) abstract org.apache.hadoop.hdfs.protocol.DatanodeInfo[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getPipeline()" class="member-name-link">getPipeline</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This method gets the pipeline for the current WAL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPreallocatedEventCount()" class="member-name-link">getPreallocatedEventCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SequenceIdAccounting.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SequenceIdAccounting</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSequenceIdAccounting()" class="member-name-link">getSequenceIdAccounting</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSyncedTxid(long,long)" class="member-name-link">getSyncedTxid</a><wbr>(long&nbsp;processedTxid,
 long&nbsp;completableFutureResult)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is to adapt <a href="FSHLog.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><code>FSHLog</code></a> and <a href="AsyncFSWAL.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><code>AsyncFSWAL</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final <a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSyncFuture(long,boolean)" class="member-name-link">getSyncFuture</a><wbr>(long&nbsp;sequence,
 boolean&nbsp;forceSync)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUnflushedEntriesCount()" class="member-name-link">getUnflushedEntriesCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getWALArchivePath(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)" class="member-name-link">getWALArchivePath</a><wbr>(org.apache.hadoop.fs.Path&nbsp;archiveDir,
 org.apache.hadoop.fs.Path&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWriter()" class="member-name-link">getWriter</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init()" class="member-name-link">init</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Used to initialize the WAL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isHsync(long,long)" class="member-name-link">isHsync</a><wbr>(long&nbsp;beginTxid,
 long&nbsp;endTxid)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isLogRollRequested()" class="member-name-link">isLogRollRequested</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isUnflushedEntries()" class="member-name-link">isUnflushedEntries</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isWriterBroken()" class="member-name-link">isWriterBroken</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#logRollAndSetupWalProps(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,long)" class="member-name-link">logRollAndSetupWalProps</a><wbr>(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath,
 long&nbsp;oldFileLen)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#main(java.lang.String%5B%5D)" class="member-name-link">main</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Pass one or more log file names, and it will either dump out a text version on
 <code>stdout</code> or split the specified log files.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#markClosedAndClean(org.apache.hadoop.fs.Path)" class="member-name-link">markClosedAndClean</a><wbr>(org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Mark this WAL file as closed and call cleanOldLogs to see if we can archive this file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#markFutureDoneAndOffer(org.apache.hadoop.hbase.regionserver.wal.SyncFuture,long,java.lang.Throwable)" class="member-name-link">markFutureDoneAndOffer</a><wbr>(<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&nbsp;future,
 long&nbsp;txid,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;t)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper that marks the future as DONE and offers it back to the cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onAppendEntryFailed(java.io.IOException)" class="member-name-link">onAppendEntryFailed</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>&nbsp;exception)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onException(long,java.lang.Throwable)" class="member-name-link">onException</a><wbr>(long&nbsp;epochWhenSync,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onWriterReplaced(W)" class="member-name-link">onWriterReplaced</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;nextWriter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postAppend(org.apache.hadoop.hbase.wal.WAL.Entry,long)" class="member-name-link">postAppend</a><wbr>(<a href="../../wal/WAL.Entry.html" title="class in org.apache.hadoop.hbase.wal">WAL.Entry</a>&nbsp;e,
 long&nbsp;elapsedTime)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postSync(long,int)" class="member-name-link">postSync</a><wbr>(long&nbsp;timeInNanos,
 int&nbsp;handlerSyncs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recoverLease(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.conf.Configuration)" class="member-name-link">recoverLease</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;p,
 org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)" class="member-name-link">registerWALActionsListener</a><wbr>(<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers WALActionsListener</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replaceWriter(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,W)" class="member-name-link">replaceWriter</a><wbr>(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;nextWriter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cleans up current writer closing it and then puts in place the passed in <code>nextWriter</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#requestLogRoll()" class="member-name-link">requestLogRoll</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#requestLogRoll(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener.RollRequestReason)" class="member-name-link">requestLogRoll</a><wbr>(<a href="WALActionsListener.RollRequestReason.html" title="enum class in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener.RollRequestReason</a>&nbsp;reason)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollWriter()" class="member-name-link">rollWriter</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Roll the log writer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollWriter(boolean)" class="member-name-link">rollWriter</a><wbr>(boolean&nbsp;force)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Roll the log writer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollWriterInternal(boolean)" class="member-name-link">rollWriterInternal</a><wbr>(boolean&nbsp;force)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setWaitOnShutdownInSeconds(int,java.lang.String)" class="member-name-link">setWaitOnShutdownInSeconds</a><wbr>(int&nbsp;waitOnShutdownInSeconds,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;waitOnShutdownInSecondsConfigKey)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shouldScheduleConsumer()" class="member-name-link">shouldScheduleConsumer</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shutdown()" class="member-name-link">shutdown</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stop accepting new writes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#skipRemoteWAL(boolean)" class="member-name-link">skipRemoteWAL</a><wbr>(boolean&nbsp;markerEditOnly)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tell the WAL that when creating new writer you can skip creating the remote writer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#split(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)" class="member-name-link">split</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 org.apache.hadoop.fs.Path&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stampSequenceIdAndPublishToRingBuffer(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit,boolean,com.lmax.disruptor.RingBuffer)" class="member-name-link">stampSequenceIdAndPublishToRingBuffer</a><wbr>(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;hri,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits,
 boolean&nbsp;inMemstore,
 com.lmax.disruptor.RingBuffer&lt;<a href="RingBufferTruck.html" title="class in org.apache.hadoop.hbase.regionserver.wal">RingBufferTruck</a>&gt;&nbsp;ringBuffer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startCacheFlush(byte%5B%5D,java.util.Map)" class="member-name-link">startCacheFlush</a><wbr>(byte[]&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;familyToSeq)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startCacheFlush(byte%5B%5D,java.util.Set)" class="member-name-link">startCacheFlush</a><wbr>(byte[]&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;byte[]&gt;&nbsp;families)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">WAL keeps track of the sequence numbers that are as yet not flushed im memstores in order to be
 able to do accounting to figure which WALs can be let go.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sync()" class="member-name-link">sync</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sync what we have in the WAL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sync(boolean)" class="member-name-link">sync</a><wbr>(boolean&nbsp;forceSync)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sync(long)" class="member-name-link">sync</a><wbr>(long&nbsp;txid)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sync the WAL if the txId was not already sync'd.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sync(long,boolean)" class="member-name-link">sync</a><wbr>(long&nbsp;txid,
 boolean&nbsp;forceSync)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sync(W)" class="member-name-link">sync</a><wbr>(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#syncCompleted(long,W,long,long)" class="member-name-link">syncCompleted</a><wbr>(long&nbsp;epochWhenSync,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 long&nbsp;processedTxid,
 long&nbsp;startTimeNs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#syncFailed(long,java.lang.Throwable)" class="member-name-link">syncFailed</a><wbr>(long&nbsp;epochWhenSync,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tellListenersAboutPostLogRoll(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)" class="member-name-link">tellListenersAboutPostLogRoll</a><wbr>(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tell listeners about post log roll.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tellListenersAboutPreLogRoll(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)" class="member-name-link">tellListenersAboutPreLogRoll</a><wbr>(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tell listeners about pre log roll.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Human readable identifying information about the state of this WAL.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#trySetReadyForRolling()" class="member-name-link">trySetReadyForRolling</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unregisterWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)" class="member-name-link">unregisterWALActionsListener</a><wbr>(<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Unregisters WALActionsListener</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateStore(byte%5B%5D,byte%5B%5D,java.lang.Long,boolean)" class="member-name-link">updateStore</a><wbr>(byte[]&nbsp;encodedRegionName,
 byte[]&nbsp;familyName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;sequenceid,
 boolean&nbsp;onlyIfGreater)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">updates the sequence number of a specific store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#usage()" class="member-name-link">usage</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#waitForSafePoint()" class="member-name-link">waitForSafePoint</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#waitingRoll(int)" class="member-name-link">waitingRoll</a><wbr>(int&nbsp;epochAndState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#writerBroken(int)" class="member-name-link">writerBroken</a><wbr>(int&nbsp;epochAndState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="LOG">
<h3>LOG</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">org.slf4j.Logger</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-149">LOG</a></span></div>
</section>
</li>
<li>
<section class="detail" id="SEQ_COMPARATOR">
<h3>SEQ_COMPARATOR</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a>&lt;<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-151">SEQ_COMPARATOR</a></span></div>
</section>
</li>
<li>
<section class="detail" id="SURVIVED_TOO_LONG_SEC_KEY">
<h3>SURVIVED_TOO_LONG_SEC_KEY</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-154">SURVIVED_TOO_LONG_SEC_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.SURVIVED_TOO_LONG_SEC_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SURVIVED_TOO_LONG_SEC_DEFAULT">
<h3>SURVIVED_TOO_LONG_SEC_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-155">SURVIVED_TOO_LONG_SEC_DEFAULT</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.SURVIVED_TOO_LONG_SEC_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SURVIVED_TOO_LONG_LOG_INTERVAL_NS">
<h3>SURVIVED_TOO_LONG_LOG_INTERVAL_NS</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-157">SURVIVED_TOO_LONG_LOG_INTERVAL_NS</a></span></div>
<div class="block">Don't log blocking regions more frequently than this.</div>
</section>
</li>
<li>
<section class="detail" id="SLOW_SYNC_TIME_MS">
<h3>SLOW_SYNC_TIME_MS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-159">SLOW_SYNC_TIME_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.SLOW_SYNC_TIME_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_SLOW_SYNC_TIME_MS">
<h3>DEFAULT_SLOW_SYNC_TIME_MS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-160">DEFAULT_SLOW_SYNC_TIME_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.DEFAULT_SLOW_SYNC_TIME_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ROLL_ON_SYNC_TIME_MS">
<h3>ROLL_ON_SYNC_TIME_MS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-161">ROLL_ON_SYNC_TIME_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.ROLL_ON_SYNC_TIME_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_ROLL_ON_SYNC_TIME_MS">
<h3>DEFAULT_ROLL_ON_SYNC_TIME_MS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-162">DEFAULT_ROLL_ON_SYNC_TIME_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.DEFAULT_ROLL_ON_SYNC_TIME_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SLOW_SYNC_ROLL_THRESHOLD">
<h3>SLOW_SYNC_ROLL_THRESHOLD</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-163">SLOW_SYNC_ROLL_THRESHOLD</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.SLOW_SYNC_ROLL_THRESHOLD">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_SLOW_SYNC_ROLL_THRESHOLD">
<h3>DEFAULT_SLOW_SYNC_ROLL_THRESHOLD</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-165">DEFAULT_SLOW_SYNC_ROLL_THRESHOLD</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.DEFAULT_SLOW_SYNC_ROLL_THRESHOLD">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SLOW_SYNC_ROLL_INTERVAL_MS">
<h3>SLOW_SYNC_ROLL_INTERVAL_MS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-166">SLOW_SYNC_ROLL_INTERVAL_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.SLOW_SYNC_ROLL_INTERVAL_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_SLOW_SYNC_ROLL_INTERVAL_MS">
<h3>DEFAULT_SLOW_SYNC_ROLL_INTERVAL_MS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-168">DEFAULT_SLOW_SYNC_ROLL_INTERVAL_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.DEFAULT_SLOW_SYNC_ROLL_INTERVAL_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAL_SYNC_TIMEOUT_MS">
<h3>WAL_SYNC_TIMEOUT_MS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-170">WAL_SYNC_TIMEOUT_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.WAL_SYNC_TIMEOUT_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_WAL_SYNC_TIMEOUT_MS">
<h3>DEFAULT_WAL_SYNC_TIMEOUT_MS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-171">DEFAULT_WAL_SYNC_TIMEOUT_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.DEFAULT_WAL_SYNC_TIMEOUT_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAL_ROLL_MULTIPLIER">
<h3>WAL_ROLL_MULTIPLIER</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-173">WAL_ROLL_MULTIPLIER</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.WAL_ROLL_MULTIPLIER">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MAX_LOGS">
<h3>MAX_LOGS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-175">MAX_LOGS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.MAX_LOGS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="RING_BUFFER_SLOT_COUNT">
<h3>RING_BUFFER_SLOT_COUNT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-177">RING_BUFFER_SLOT_COUNT</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.RING_BUFFER_SLOT_COUNT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAL_SHUTDOWN_WAIT_TIMEOUT_MS">
<h3>WAL_SHUTDOWN_WAIT_TIMEOUT_MS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-180">WAL_SHUTDOWN_WAIT_TIMEOUT_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.WAL_SHUTDOWN_WAIT_TIMEOUT_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_WAL_SHUTDOWN_WAIT_TIMEOUT_MS">
<h3>DEFAULT_WAL_SHUTDOWN_WAIT_TIMEOUT_MS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-181">DEFAULT_WAL_SHUTDOWN_WAIT_TIMEOUT_MS</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.DEFAULT_WAL_SHUTDOWN_WAIT_TIMEOUT_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAL_BATCH_SIZE">
<h3>WAL_BATCH_SIZE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-183">WAL_BATCH_SIZE</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.WAL_BATCH_SIZE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_WAL_BATCH_SIZE">
<h3>DEFAULT_WAL_BATCH_SIZE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-184">DEFAULT_WAL_BATCH_SIZE</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.DEFAULT_WAL_BATCH_SIZE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAL_AVOID_LOCAL_WRITES_KEY">
<h3>WAL_AVOID_LOCAL_WRITES_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-186">WAL_AVOID_LOCAL_WRITES_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.WAL_AVOID_LOCAL_WRITES_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAL_AVOID_LOCAL_WRITES_DEFAULT">
<h3>WAL_AVOID_LOCAL_WRITES_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-188">WAL_AVOID_LOCAL_WRITES_DEFAULT</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.WAL_AVOID_LOCAL_WRITES_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fs">
<h3>fs</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FileSystem</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-193">fs</a></span></div>
<div class="block">file system instance</div>
</section>
</li>
<li>
<section class="detail" id="walDir">
<h3>walDir</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-198">walDir</a></span></div>
<div class="block">WAL directory, where all WAL files would be placed.</div>
</section>
</li>
<li>
<section class="detail" id="remoteFs">
<h3>remoteFs</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FileSystem</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-200">remoteFs</a></span></div>
</section>
</li>
<li>
<section class="detail" id="remoteWALDir">
<h3>remoteWALDir</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-202">remoteWALDir</a></span></div>
</section>
</li>
<li>
<section class="detail" id="walArchiveDir">
<h3>walArchiveDir</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-207">walArchiveDir</a></span></div>
<div class="block">dir path where old logs are kept.</div>
</section>
</li>
<li>
<section class="detail" id="ourFiles">
<h3>ourFiles</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.PathFilter</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-212">ourFiles</a></span></div>
<div class="block">Matches just those wal files that belong to this wal instance.</div>
</section>
</li>
<li>
<section class="detail" id="walFilePrefix">
<h3>walFilePrefix</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-217">walFilePrefix</a></span></div>
<div class="block">Prefix of a WAL file, usually the region server name it is hosted on.</div>
</section>
</li>
<li>
<section class="detail" id="walFileSuffix">
<h3>walFileSuffix</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-222">walFileSuffix</a></span></div>
<div class="block">Suffix included on generated wal file names</div>
</section>
</li>
<li>
<section class="detail" id="prefixPathStr">
<h3>prefixPathStr</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-227">prefixPathStr</a></span></div>
<div class="block">Prefix used when checking for wal membership.</div>
</section>
</li>
<li>
<section class="detail" id="coprocessorHost">
<h3>coprocessorHost</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="WALCoprocessorHost.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALCoprocessorHost</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-229">coprocessorHost</a></span></div>
</section>
</li>
<li>
<section class="detail" id="conf">
<h3>conf</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.apache.hadoop.conf.Configuration</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-234">conf</a></span></div>
<div class="block">conf object</div>
</section>
</li>
<li>
<section class="detail" id="abortable">
<h3>abortable</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../../Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-236">abortable</a></span></div>
</section>
</li>
<li>
<section class="detail" id="listeners">
<h3>listeners</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-239">listeners</a></span></div>
<div class="block">Listeners that are called on WAL events.</div>
</section>
</li>
<li>
<section class="detail" id="inflightWALClosures">
<h3>inflightWALClosures</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a> extends <a href="../../wal/WALProvider.WriterBase.html" title="interface in org.apache.hadoop.hbase.wal">WALProvider.WriterBase</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-242">inflightWALClosures</a></span></div>
<div class="block">Tracks the logs in the process of being closed.</div>
</section>
</li>
<li>
<section class="detail" id="sequenceIdAccounting">
<h3>sequenceIdAccounting</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="SequenceIdAccounting.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SequenceIdAccounting</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-249">sequenceIdAccounting</a></span></div>
<div class="block">Class that does accounting of sequenceids in WAL subsystem. Holds oldest outstanding sequence
 id as yet not flushed as well as the most recent edit sequence id appended to the WAL. Has
 facility for answering questions such as "Is it safe to GC a WAL?".</div>
</section>
</li>
<li>
<section class="detail" id="slowSyncNs">
<h3>slowSyncNs</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-252">slowSyncNs</a></span></div>
<div class="block">The slow sync will be logged; the very slow sync will cause the WAL to be rolled.</div>
</section>
</li>
<li>
<section class="detail" id="rollOnSyncNs">
<h3>rollOnSyncNs</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-252">rollOnSyncNs</a></span></div>
<div class="block">The slow sync will be logged; the very slow sync will cause the WAL to be rolled.</div>
</section>
</li>
<li>
<section class="detail" id="slowSyncRollThreshold">
<h3>slowSyncRollThreshold</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-253">slowSyncRollThreshold</a></span></div>
</section>
</li>
<li>
<section class="detail" id="slowSyncCheckInterval">
<h3>slowSyncCheckInterval</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-254">slowSyncCheckInterval</a></span></div>
</section>
</li>
<li>
<section class="detail" id="slowSyncCount">
<h3>slowSyncCount</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-255">slowSyncCount</a></span></div>
</section>
</li>
<li>
<section class="detail" id="walSyncTimeoutNs">
<h3>walSyncTimeoutNs</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-257">walSyncTimeoutNs</a></span></div>
</section>
</li>
<li>
<section class="detail" id="walTooOldNs">
<h3>walTooOldNs</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-259">walTooOldNs</a></span></div>
</section>
</li>
<li>
<section class="detail" id="logrollsize">
<h3>logrollsize</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-262">logrollsize</a></span></div>
</section>
</li>
<li>
<section class="detail" id="blocksize">
<h3>blocksize</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-267">blocksize</a></span></div>
<div class="block">Block size to use writing files.</div>
</section>
</li>
<li>
<section class="detail" id="maxLogs">
<h3>maxLogs</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-273">maxLogs</a></span></div>
</section>
</li>
<li>
<section class="detail" id="useHsync">
<h3>useHsync</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-275">useHsync</a></span></div>
</section>
</li>
<li>
<section class="detail" id="rollWriterLock">
<h3>rollWriterLock</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-284">rollWriterLock</a></span></div>
<div class="block">This lock makes sure only one log roll runs at a time. Should not be taken while any other lock
 is held. We don't just use synchronized because that results in bogus and tedious findbugs
 warning when it thinks synchronized controls writer thread safety. It is held when we are
 actually rolling the log. It is checked when we are looking to see if we should roll the log or
 not.</div>
</section>
</li>
<li>
<section class="detail" id="filenum">
<h3>filenum</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-287">filenum</a></span></div>
</section>
</li>
<li>
<section class="detail" id="numEntries">
<h3>numEntries</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-290">numEntries</a></span></div>
</section>
</li>
<li>
<section class="detail" id="highestUnsyncedTxid">
<h3>highestUnsyncedTxid</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-297">highestUnsyncedTxid</a></span></div>
<div class="block">The highest known outstanding unsync'd WALEdit transaction id. Usually, we use a queue to pass
 WALEdit to background consumer thread, and the transaction id is the sequence number of the
 corresponding entry in queue.</div>
</section>
</li>
<li>
<section class="detail" id="highestSyncedTxid">
<h3>highestSyncedTxid</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-304">highestSyncedTxid</a></span></div>
<div class="block">Updated to the transaction id of the last successful sync call. This can be less than
 <a href="#highestUnsyncedTxid"><code>highestUnsyncedTxid</code></a> for case where we have an append where a sync has not yet come in
 for it.</div>
</section>
</li>
<li>
<section class="detail" id="totalLogSize">
<h3>totalLogSize</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-309">totalLogSize</a></span></div>
<div class="block">The total size of wal</div>
</section>
</li>
<li>
<section class="detail" id="writer">
<h3>writer</h3>
<div class="member-signature"><span class="modifiers">volatile</span>&nbsp;<span class="return-type"><a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a> extends <a href="../../wal/WALProvider.WriterBase.html" title="interface in org.apache.hadoop.hbase.wal">WALProvider.WriterBase</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-313">writer</a></span></div>
<div class="block">Current log file.</div>
</section>
</li>
<li>
<section class="detail" id="lastTimeCheckLowReplication">
<h3>lastTimeCheckLowReplication</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-316">lastTimeCheckLowReplication</a></span></div>
</section>
</li>
<li>
<section class="detail" id="lastTimeCheckSlowSync">
<h3>lastTimeCheckSlowSync</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-319">lastTimeCheckSlowSync</a></span></div>
</section>
</li>
<li>
<section class="detail" id="closed">
<h3>closed</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-321">closed</a></span></div>
</section>
</li>
<li>
<section class="detail" id="shutdown">
<h3>shutdown</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-323">shutdown</a></span></div>
</section>
</li>
<li>
<section class="detail" id="walShutdownTimeout">
<h3>walShutdownTimeout</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-325">walShutdownTimeout</a></span></div>
</section>
</li>
<li>
<section class="detail" id="nextLogTooOldNs">
<h3>nextLogTooOldNs</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-327">nextLogTooOldNs</a></span></div>
</section>
</li>
<li>
<section class="detail" id="LOG_NAME_COMPARATOR">
<h3>LOG_NAME_COMPARATOR</h3>
<div class="member-signature"><span class="modifiers">final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a>&lt;org.apache.hadoop.fs.Path&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-333">LOG_NAME_COMPARATOR</a></span></div>
<div class="block">WAL Comparator; it compares the timestamp (log filenum), present in the log file name. Throws
 an IllegalArgumentException if used to compare paths from different wals.</div>
</section>
</li>
<li>
<section class="detail" id="walFile2Props">
<h3>walFile2Props</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;org.apache.hadoop.fs.Path,<wbr><a href="AbstractFSWAL.WALProps.html" title="class in org.apache.hadoop.hbase.regionserver.wal">AbstractFSWAL.WALProps</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-374">walFile2Props</a></span></div>
<div class="block">Map of WAL log file to properties. The map is sorted by the log file creation timestamp
 (contained in the log file name).</div>
</section>
</li>
<li>
<section class="detail" id="syncFutureCache">
<h3>syncFutureCache</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="SyncFutureCache.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFutureCache</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-380">syncFutureCache</a></span></div>
<div class="block">A cache of sync futures reused by threads.</div>
</section>
</li>
<li>
<section class="detail" id="implClassName">
<h3>implClassName</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-389">implClassName</a></span></div>
<div class="block">The class name of the runtime implementation, used as prefix for logging/tracing.
 <p>
 Performance testing shows getClass().getSimpleName() might be a bottleneck so we store it here,
 refer to HBASE-17676 for more details
 </p></div>
</section>
</li>
<li>
<section class="detail" id="rollRequested">
<h3>rollRequested</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-391">rollRequested</a></span></div>
</section>
</li>
<li>
<section class="detail" id="closeExecutor">
<h3>closeExecutor</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-393">closeExecutor</a></span></div>
</section>
</li>
<li>
<section class="detail" id="logArchiveExecutor">
<h3>logArchiveExecutor</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-398">logArchiveExecutor</a></span></div>
</section>
</li>
<li>
<section class="detail" id="archiveRetries">
<h3>archiveRetries</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-403">archiveRetries</a></span></div>
</section>
</li>
<li>
<section class="detail" id="consumeExecutor">
<h3>consumeExecutor</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-405">consumeExecutor</a></span></div>
</section>
</li>
<li>
<section class="detail" id="consumeLock">
<h3>consumeLock</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html" title="class or interface in java.util.concurrent.locks" class="external-link">Lock</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-407">consumeLock</a></span></div>
</section>
</li>
<li>
<section class="detail" id="consumer">
<h3>consumer</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-409">consumer</a></span></div>
</section>
</li>
<li>
<section class="detail" id="hasConsumerTask">
<h3>hasConsumerTask</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-412">hasConsumerTask</a></span></div>
</section>
</li>
<li>
<section class="detail" id="MAX_EPOCH">
<h3>MAX_EPOCH</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-414">MAX_EPOCH</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.AbstractFSWAL.MAX_EPOCH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="epochAndState">
<h3>epochAndState</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-422">epochAndState</a></span></div>
</section>
</li>
<li>
<section class="detail" id="readyForRolling">
<h3>readyForRolling</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-424">readyForRolling</a></span></div>
</section>
</li>
<li>
<section class="detail" id="readyForRollingCond">
<h3>readyForRollingCond</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html" title="class or interface in java.util.concurrent.locks" class="external-link">Condition</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-426">readyForRollingCond</a></span></div>
</section>
</li>
<li>
<section class="detail" id="waitingConsumePayloads">
<h3>waitingConsumePayloads</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">com.lmax.disruptor.RingBuffer&lt;<a href="RingBufferTruck.html" title="class in org.apache.hadoop.hbase.regionserver.wal">RingBufferTruck</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-428">waitingConsumePayloads</a></span></div>
</section>
</li>
<li>
<section class="detail" id="waitingConsumePayloadsGatingSequence">
<h3>waitingConsumePayloadsGatingSequence</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">com.lmax.disruptor.Sequence</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-430">waitingConsumePayloadsGatingSequence</a></span></div>
</section>
</li>
<li>
<section class="detail" id="consumerScheduled">
<h3>consumerScheduled</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-432">consumerScheduled</a></span></div>
</section>
</li>
<li>
<section class="detail" id="batchSize">
<h3>batchSize</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-434">batchSize</a></span></div>
</section>
</li>
<li>
<section class="detail" id="toWriteAppends">
<h3>toWriteAppends</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-436">toWriteAppends</a></span></div>
</section>
</li>
<li>
<section class="detail" id="unackedAppends">
<h3>unackedAppends</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-438">unackedAppends</a></span></div>
</section>
</li>
<li>
<section class="detail" id="syncFutures">
<h3>syncFutures</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html" title="class or interface in java.util" class="external-link">SortedSet</a>&lt;<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-440">syncFutures</a></span></div>
</section>
</li>
<li>
<section class="detail" id="highestProcessedAppendTxid">
<h3>highestProcessedAppendTxid</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-443">highestProcessedAppendTxid</a></span></div>
</section>
</li>
<li>
<section class="detail" id="fileLengthAtLastSync">
<h3>fileLengthAtLastSync</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-446">fileLengthAtLastSync</a></span></div>
</section>
</li>
<li>
<section class="detail" id="highestProcessedAppendTxidAtLastSync">
<h3>highestProcessedAppendTxidAtLastSync</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-448">highestProcessedAppendTxidAtLastSync</a></span></div>
</section>
</li>
<li>
<section class="detail" id="waitOnShutdownInSeconds">
<h3>waitOnShutdownInSeconds</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-450">waitOnShutdownInSeconds</a></span></div>
</section>
</li>
<li>
<section class="detail" id="waitOnShutdownInSecondsConfigKey">
<h3>waitOnShutdownInSecondsConfigKey</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-452">waitOnShutdownInSecondsConfigKey</a></span></div>
</section>
</li>
<li>
<section class="detail" id="shouldShutDownConsumeExecutorWhenClose">
<h3>shouldShutDownConsumeExecutorWhenClose</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-454">shouldShutDownConsumeExecutorWhenClose</a></span></div>
</section>
</li>
<li>
<section class="detail" id="skipRemoteWAL">
<h3>skipRemoteWAL</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-456">skipRemoteWAL</a></span></div>
</section>
</li>
<li>
<section class="detail" id="markerEditOnly">
<h3>markerEditOnly</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-458">markerEditOnly</a></span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.hbase.Abortable,org.apache.hadoop.fs.Path,java.lang.String,java.lang.String,org.apache.hadoop.conf.Configuration,java.util.List,boolean,java.lang.String,java.lang.String,org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>AbstractFSWAL</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-526">AbstractFSWAL</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 <a href="../../Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable,
 org.apache.hadoop.fs.Path&nbsp;rootDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;logDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;archiveDir,
 org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;&nbsp;listeners,
 boolean&nbsp;failIfWALExists,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prefix,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;suffix,
 org.apache.hadoop.fs.FileSystem&nbsp;remoteFs,
 org.apache.hadoop.fs.Path&nbsp;remoteWALDir)</span>
                 throws <span class="exceptions"><a href="FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getFilenum()">
<h3>getFilenum</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-460">getFilenum</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getFileNumFromFileName(org.apache.hadoop.fs.Path)">
<h3>getFileNumFromFileName</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-470">getFileNumFromFileName</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;fileName)</span></div>
<div class="block">A log file has a creation timestamp (in ms) in its file name (<a href="#filenum"><code>filenum</code></a>. This helper
 method returns the creation timestamp from a given log file. It extracts the timestamp assuming
 the filename is created with the <a href="#computeFilename(long)"><code>computeFilename(long filenum)</code></a> method.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>timestamp, as in the log file name.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="calculateMaxLogFiles(org.apache.hadoop.conf.Configuration,long)">
<h3>calculateMaxLogFiles</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-482">calculateMaxLogFiles</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 long&nbsp;logRollSize)</span></div>
</section>
</li>
<li>
<section class="detail" id="getPreallocatedEventCount()">
<h3>getPreallocatedEventCount</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-491">getPreallocatedEventCount</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="setWaitOnShutdownInSeconds(int,java.lang.String)">
<h3>setWaitOnShutdownInSeconds</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-509">setWaitOnShutdownInSeconds</a></span><wbr><span class="parameters">(int&nbsp;waitOnShutdownInSeconds,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;waitOnShutdownInSecondsConfigKey)</span></div>
</section>
</li>
<li>
<section class="detail" id="createSingleThreadPoolConsumeExecutor(java.lang.String,org.apache.hadoop.fs.Path,java.lang.String)">
<h3>createSingleThreadPoolConsumeExecutor</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-515">createSingleThreadPoolConsumeExecutor</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;walType,
 org.apache.hadoop.fs.Path&nbsp;rootDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prefix)</span></div>
</section>
</li>
<li>
<section class="detail" id="init()">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-653">init</a></span>()
          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Used to initialize the WAL. Usually just call rollWriter to create the first log writer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#init()">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">
<h3>registerWALActionsListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-658">registerWALActionsListener</a></span><wbr><span class="parameters">(<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#registerWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">WAL</a></code></span></div>
<div class="block">Registers WALActionsListener</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#registerWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">registerWALActionsListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unregisterWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">
<h3>unregisterWALActionsListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-663">unregisterWALActionsListener</a></span><wbr><span class="parameters">(<a href="WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#unregisterWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">WAL</a></code></span></div>
<div class="block">Unregisters WALActionsListener</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#unregisterWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">unregisterWALActionsListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCoprocessorHost()">
<h3>getCoprocessorHost</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="WALCoprocessorHost.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALCoprocessorHost</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-668">getCoprocessorHost</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#getCoprocessorHost()">WAL</a></code></span></div>
<div class="block">Returns Coprocessor host.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#getCoprocessorHost()">getCoprocessorHost</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startCacheFlush(byte[],java.util.Set)">
<h3>startCacheFlush</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-673">startCacheFlush</a></span><wbr><span class="parameters">(byte[]&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;byte[]&gt;&nbsp;families)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#startCacheFlush(byte%5B%5D,java.util.Set)">WAL</a></code></span></div>
<div class="block">WAL keeps track of the sequence numbers that are as yet not flushed im memstores in order to be
 able to do accounting to figure which WALs can be let go. This method tells WAL that some
 region is about to flush. The flush can be the whole region or for a column family of the
 region only.
 <p>
 Currently, it is expected that the update lock is held for the region; i.e. no concurrent
 appends while we set up cache flush.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#startCacheFlush(byte%5B%5D,java.util.Set)">startCacheFlush</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dd><code>families</code> - Families to flush. May be a subset of all families in the region.</dd>
<dt>Returns:</dt>
<dd>Returns <a href="../../HConstants.html#NO_SEQNUM"><code>HConstants.NO_SEQNUM</code></a> if we are flushing the whole region OR if we are
         flushing a subset of all families but there are no edits in those families not being
         flushed; in other words, this is effectively same as a flush of all of the region
         though we were passed a subset of regions. Otherwise, it returns the sequence id of the
         oldest/lowest outstanding edit.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../wal/WAL.html#completeCacheFlush(byte%5B%5D,long)"><code>WAL.completeCacheFlush(byte[], long)</code></a></li>
<li><a href="../../wal/WAL.html#abortCacheFlush(byte%5B%5D)"><code>WAL.abortCacheFlush(byte[])</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startCacheFlush(byte[],java.util.Map)">
<h3>startCacheFlush</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-678">startCacheFlush</a></span><wbr><span class="parameters">(byte[]&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;familyToSeq)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#startCacheFlush(byte%5B%5D,java.util.Map)">startCacheFlush</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="completeCacheFlush(byte[],long)">
<h3>completeCacheFlush</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-683">completeCacheFlush</a></span><wbr><span class="parameters">(byte[]&nbsp;encodedRegionName,
 long&nbsp;maxFlushedSeqId)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#completeCacheFlush(byte%5B%5D,long)">WAL</a></code></span></div>
<div class="block">Complete the cache flush.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#completeCacheFlush(byte%5B%5D,long)">completeCacheFlush</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>encodedRegionName</code> - Encoded region name.</dd>
<dd><code>maxFlushedSeqId</code> - The maxFlushedSeqId for this flush. There is no edit in memory that is
                          less that this sequence id.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../wal/WAL.html#startCacheFlush(byte%5B%5D,java.util.Set)"><code>WAL.startCacheFlush(byte[], Set)</code></a></li>
<li><a href="../../wal/WAL.html#abortCacheFlush(byte%5B%5D)"><code>WAL.abortCacheFlush(byte[])</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="abortCacheFlush(byte[])">
<h3>abortCacheFlush</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-688">abortCacheFlush</a></span><wbr><span class="parameters">(byte[]&nbsp;encodedRegionName)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#abortCacheFlush(byte%5B%5D)">WAL</a></code></span></div>
<div class="block">Abort a cache flush. Call if the flush fails. Note that the only recovery for an aborted flush
 currently is a restart of the regionserver so the snapshot content dropped by the failure gets
 restored to the memstore.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#abortCacheFlush(byte%5B%5D)">abortCacheFlush</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>encodedRegionName</code> - Encoded region name.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEarliestMemStoreSeqNum(byte[],byte[])">
<h3>getEarliestMemStoreSeqNum</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-693">getEarliestMemStoreSeqNum</a></span><wbr><span class="parameters">(byte[]&nbsp;encodedRegionName,
 byte[]&nbsp;familyName)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#getEarliestMemStoreSeqNum(byte%5B%5D,byte%5B%5D)">WAL</a></code></span></div>
<div class="block">Gets the earliest unflushed sequence id in the memstore for the store.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#getEarliestMemStoreSeqNum(byte%5B%5D,byte%5B%5D)">getEarliestMemStoreSeqNum</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>encodedRegionName</code> - The region to get the number for.</dd>
<dd><code>familyName</code> - The family to get the number for.</dd>
<dt>Returns:</dt>
<dd>The earliest/lowest/oldest sequence id if present, HConstants.NO_SEQNUM if absent.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollWriter()">
<h3>rollWriter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-706">rollWriter</a></span>()
                                    throws <span class="exceptions"><a href="FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#rollWriter()">WAL</a></code></span></div>
<div class="block">Roll the log writer. That is, start writing log messages to a new file.
 <p/>
 The implementation is synchronized in order to make sure there's one rollWriter running at any
 given time.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#rollWriter()">rollWriter</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Returns:</dt>
<dd>If lots of logs, flush the stores of returned regions so next time through we can clean
         logs. Returns null if nothing to flush. Names are actual region names as returned by
         <a href="../../client/RegionInfo.html#getEncodedName()"><code>RegionInfo.getEncodedName()</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sync()">
<h3>sync</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-711">sync</a></span>()
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#sync()">WAL</a></code></span></div>
<div class="block">Sync what we have in the WAL.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#sync()">sync</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sync(long)">
<h3>sync</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-716">sync</a></span><wbr><span class="parameters">(long&nbsp;txid)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#sync(long)">WAL</a></code></span></div>
<div class="block">Sync the WAL if the txId was not already sync'd.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#sync(long)">sync</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>txid</code> - Transaction id to sync to.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sync(boolean)">
<h3>sync</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-721">sync</a></span><wbr><span class="parameters">(boolean&nbsp;forceSync)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#sync(boolean)">sync</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>forceSync</code> - Flag to force sync rather than flushing to the buffer. Example - Hadoop hflush
                  vs hsync.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sync(long,boolean)">
<h3>sync</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-726">sync</a></span><wbr><span class="parameters">(long&nbsp;txid,
 boolean&nbsp;forceSync)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#sync(long,boolean)">sync</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>txid</code> - Transaction id to sync to.</dd>
<dd><code>forceSync</code> - Flag to force sync rather than flushing to the buffer. Example - Hadoop hflush
                  vs hsync.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSequenceIdAccounting()">
<h3>getSequenceIdAccounting</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SequenceIdAccounting.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SequenceIdAccounting</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-731">getSequenceIdAccounting</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="computeFilename(long)">
<h3>computeFilename</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-741">computeFilename</a></span><wbr><span class="parameters">(long&nbsp;filenum)</span></div>
<div class="block">This is a convenience method that computes a new filename with a given file-number.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>filenum</code> - to use</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentFileName()">
<h3>getCurrentFileName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-753">getCurrentFileName</a></span>()</div>
<div class="block">This is a convenience method that computes a new filename with a given using the current WAL
 file-number</div>
</section>
</li>
<li>
<section class="detail" id="getNewPath()">
<h3>getNewPath</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-760">getNewPath</a></span>()
                                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">retrieve the next path to use for writing. Increments the internal filenum.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOldPath()">
<h3>getOldPath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-766">getOldPath</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="tellListenersAboutPreLogRoll(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)">
<h3>tellListenersAboutPreLogRoll</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-779">tellListenersAboutPreLogRoll</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Tell listeners about pre log roll.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tellListenersAboutPostLogRoll(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)">
<h3>tellListenersAboutPostLogRoll</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-793">tellListenersAboutPostLogRoll</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Tell listeners about post log roll.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNumRolledLogFiles()">
<h3>getNumRolledLogFiles</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-806">getNumRolledLogFiles</a></span>()</div>
<div class="block">Returns the number of rolled log files</div>
</section>
</li>
<li>
<section class="detail" id="getNumLogFiles()">
<h3>getNumLogFiles</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-812">getNumLogFiles</a></span>()</div>
<div class="block">Returns the number of log files in use</div>
</section>
</li>
<li>
<section class="detail" id="findRegionsToForceFlush()">
<h3>findRegionsToForceFlush</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-823">findRegionsToForceFlush</a></span>()
                                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">If the number of un-archived WAL files ('live' WALs) is greater than maximum allowed, check the
 first (oldest) WAL, and return those regions which should be flushed so that it can be
 let-go/'archived'.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>stores of regions (encodedRegionNames) to flush in order to archive the oldest WAL file</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="markClosedAndClean(org.apache.hadoop.fs.Path)">
<h3>markClosedAndClean</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-853">markClosedAndClean</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;path)</span></div>
<div class="block">Mark this WAL file as closed and call cleanOldLogs to see if we can archive this file.</div>
</section>
</li>
<li>
<section class="detail" id="cleanOldLogs()">
<h3>cleanOldLogs</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-870">cleanOldLogs</a></span>()</div>
<div class="block">Archive old logs. A WAL is eligible for archiving if all its WALEdits have been flushed.
 <p/>
 Use synchronized because we may call this method in different threads, normally when replacing
 writer, and since now close writer may be asynchronous, we will also call this method in the
 closeExecutor, right after we actually close a WAL writer.</div>
</section>
</li>
<li>
<section class="detail" id="archive(org.apache.hadoop.hbase.util.Pair)">
<h3>archive</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-929">archive</a></span><wbr><span class="parameters">(<a href="../../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;org.apache.hadoop.fs.Path,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;log)</span></div>
</section>
</li>
<li>
<section class="detail" id="getWALArchivePath(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)">
<h3>getWALArchivePath</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-956">getWALArchivePath</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;archiveDir,
 org.apache.hadoop.fs.Path&nbsp;p)</span></div>
</section>
</li>
<li>
<section class="detail" id="archiveLogFile(org.apache.hadoop.fs.Path)">
<h3>archiveLogFile</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-960">archiveLogFile</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;p)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="logRollAndSetupWalProps(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,long)">
<h3>logRollAndSetupWalProps</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-980">logRollAndSetupWalProps</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath,
 long&nbsp;oldFileLen)</span></div>
</section>
</li>
<li>
<section class="detail" id="createSpan(java.lang.String)">
<h3>createSpan</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">io.opentelemetry.api.trace.Span</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-995">createSpan</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
</section>
</li>
<li>
<section class="detail" id="replaceWriter(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,W)">
<h3 id="replaceWriter(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,org.apache.hadoop.hbase.wal.WALProvider.WriterBase)">replaceWriter</h3>
<div class="member-signature"><span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1015">replaceWriter</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;nextWriter)</span>
                                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Cleans up current writer closing it and then puts in place the passed in <code>nextWriter</code>.
 <p/>
 <ul>
 <li>In the case of creating a new WAL, oldPath will be null.</li>
 <li>In the case of rolling over from one file to the next, none of the parameters will be null.
 </li>
 <li>In the case of closing out this FSHLog with no further use newPath and nextWriter will be
 null.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>oldPath</code> - may be null</dd>
<dd><code>newPath</code> - may be null</dd>
<dd><code>nextWriter</code> - may be null</dd>
<dt>Returns:</dt>
<dd>the passed in <code>newPath</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is a problem flushing or closing the underlying FS</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="blockOnSync(org.apache.hadoop.hbase.regionserver.wal.SyncFuture)">
<h3>blockOnSync</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1022">blockOnSync</a></span><wbr><span class="parameters">(<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&nbsp;syncFuture)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ensureIOException(java.lang.Throwable)">
<h3>ensureIOException</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1042">ensureIOException</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;t)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertInterruptedExceptionToIOException(java.lang.InterruptedException)">
<h3>convertInterruptedExceptionToIOException</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1046">convertInterruptedExceptionToIOException</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a>&nbsp;ie)</span></div>
</section>
</li>
<li>
<section class="detail" id="createCombinedWriter(W,org.apache.hadoop.fs.Path)">
<h3 id="createCombinedWriter(org.apache.hadoop.hbase.wal.WALProvider.WriterBase,org.apache.hadoop.fs.Path)">createCombinedWriter</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1053">createCombinedWriter</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;localWriter,
 org.apache.hadoop.fs.Path&nbsp;localPath)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../../util/CommonFSUtils.StreamLacksCapabilityException.html" title="class in org.apache.hadoop.hbase.util">CommonFSUtils.StreamLacksCapabilityException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../../util/CommonFSUtils.StreamLacksCapabilityException.html" title="class in org.apache.hadoop.hbase.util">CommonFSUtils.StreamLacksCapabilityException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollWriterInternal(boolean)">
<h3>rollWriterInternal</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1084">rollWriterInternal</a></span><wbr><span class="parameters">(boolean&nbsp;force)</span>
                                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollWriter(boolean)">
<h3>rollWriter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1134">rollWriter</a></span><wbr><span class="parameters">(boolean&nbsp;force)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#rollWriter(boolean)">WAL</a></code></span></div>
<div class="block">Roll the log writer. That is, start writing log messages to a new file.
 <p/>
 The implementation is synchronized in order to make sure there's one rollWriter running at any
 given time. If true, force creation of a new writer even if no entries have been written to the
 current writer</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#rollWriter(boolean)">rollWriter</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Returns:</dt>
<dd>If lots of logs, flush the stores of returned regions so next time through we can clean
         logs. Returns null if nothing to flush. Names are actual region names as returned by
         <a href="../../client/RegionInfo.html#getEncodedName()"><code>RegionInfo.getEncodedName()</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLogFileSize()">
<h3>getLogFileSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1141">getLogFileSize</a></span>()</div>
<div class="block">Returns the size of log files in use</div>
</section>
</li>
<li>
<section class="detail" id="requestLogRoll()">
<h3>requestLogRoll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1146">requestLogRoll</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getFiles()">
<h3>getFiles</h3>
<div class="member-signature"><span class="return-type">org.apache.hadoop.fs.FileStatus[]</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1154">getFiles</a></span>()
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Get the backing files associated with this WAL.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>may be null if there are no files.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shutdown()">
<h3>shutdown</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1158">shutdown</a></span>()
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#shutdown()">WAL</a></code></span></div>
<div class="block">Stop accepting new writes. If we have unsynced writes still in buffer, sync them. Extant edits
 are left in place in backing storage to be replayed later.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1232">close</a></span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#close()">WAL</a></code></span></div>
<div class="block">Caller no longer needs any edits from this WAL. Implementers are free to reclaim underlying
 resources after this call; i.e. filesystem based WALs can archive or delete files.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html#close()" title="class or interface in java.io" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInflightWALCloseCount()">
<h3>getInflightWALCloseCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1263">getInflightWALCloseCount</a></span>()</div>
<div class="block">Returns number of WALs currently in the process of closing.</div>
</section>
</li>
<li>
<section class="detail" id="updateStore(byte[],byte[],java.lang.Long,boolean)">
<h3>updateStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1271">updateStore</a></span><wbr><span class="parameters">(byte[]&nbsp;encodedRegionName,
 byte[]&nbsp;familyName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;sequenceid,
 boolean&nbsp;onlyIfGreater)</span></div>
<div class="block">updates the sequence number of a specific store. depending on the flag: replaces current seq
 number if the given seq id is bigger, or even if it is lower than existing one</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#updateStore(byte%5B%5D,byte%5B%5D,java.lang.Long,boolean)">updateStore</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSyncFuture(long,boolean)">
<h3>getSyncFuture</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1277">getSyncFuture</a></span><wbr><span class="parameters">(long&nbsp;sequence,
 boolean&nbsp;forceSync)</span></div>
</section>
</li>
<li>
<section class="detail" id="isLogRollRequested()">
<h3>isLogRollRequested</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1281">isLogRollRequested</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="requestLogRoll(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener.RollRequestReason)">
<h3>requestLogRoll</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1285">requestLogRoll</a></span><wbr><span class="parameters">(<a href="WALActionsListener.RollRequestReason.html" title="enum class in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener.RollRequestReason</a>&nbsp;reason)</span></div>
</section>
</li>
<li>
<section class="detail" id="getUnflushedEntriesCount()">
<h3>getUnflushedEntriesCount</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1295">getUnflushedEntriesCount</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="isUnflushedEntries()">
<h3>isUnflushedEntries</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1301">isUnflushedEntries</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="atHeadOfRingBufferEventHandlerAppend()">
<h3>atHeadOfRingBufferEventHandlerAppend</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1308">atHeadOfRingBufferEventHandlerAppend</a></span>()</div>
<div class="block">Exposed for testing only. Use to tricks like halt the ring buffer appending.</div>
</section>
</li>
<li>
<section class="detail" id="appendEntry(W,org.apache.hadoop.hbase.regionserver.wal.FSWALEntry)">
<h3 id="appendEntry(org.apache.hadoop.hbase.wal.WALProvider.WriterBase,org.apache.hadoop.hbase.regionserver.wal.FSWALEntry)">appendEntry</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1312">appendEntry</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 <a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&nbsp;entry)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postAppend(org.apache.hadoop.hbase.wal.WAL.Entry,long)">
<h3>postAppend</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1350">postAppend</a></span><wbr><span class="parameters">(<a href="../../wal/WAL.Entry.html" title="class in org.apache.hadoop.hbase.wal">WAL.Entry</a>&nbsp;e,
 long&nbsp;elapsedTime)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postSync(long,int)">
<h3>postSync</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1363">postSync</a></span><wbr><span class="parameters">(long&nbsp;timeInNanos,
 int&nbsp;handlerSyncs)</span></div>
</section>
</li>
<li>
<section class="detail" id="stampSequenceIdAndPublishToRingBuffer(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit,boolean,com.lmax.disruptor.RingBuffer)">
<h3>stampSequenceIdAndPublishToRingBuffer</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1389">stampSequenceIdAndPublishToRingBuffer</a></span><wbr><span class="parameters">(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;hri,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits,
 boolean&nbsp;inMemstore,
 com.lmax.disruptor.RingBuffer&lt;<a href="RingBufferTruck.html" title="class in org.apache.hadoop.hbase.regionserver.wal">RingBufferTruck</a>&gt;&nbsp;ringBuffer)</span>
                                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1411">toString</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#toString()">WAL</a></code></span></div>
<div class="block">Human readable identifying information about the state of this WAL. Implementors are encouraged
 to include information appropriate for debugging. Consumers are advised not to rely on the
 details of the returned String; it does not have a defined structure.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#toString()">toString</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLogFileSizeIfBeingWritten(org.apache.hadoop.fs.Path)">
<h3>getLogFileSizeIfBeingWritten</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalLong.html" title="class or interface in java.util" class="external-link">OptionalLong</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1422">getLogFileSizeIfBeingWritten</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;path)</span></div>
<div class="block">if the given <code>path</code> is being written currently, then return its length.
 <p>
 This is used by replication to prevent replicating unacked log entries. See
 https://issues.apache.org/jira/browse/HBASE-14004 for more details.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/regionserver/WALFileLengthProvider.html#getLogFileSizeIfBeingWritten(org.apache.hadoop.fs.Path)">getLogFileSizeIfBeingWritten</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/regionserver/WALFileLengthProvider.html" title="interface in org.apache.hadoop.hbase.replication.regionserver">WALFileLengthProvider</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="appendData(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)">
<h3>appendData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1447">appendData</a></span><wbr><span class="parameters">(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;info,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#appendData(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)">WAL</a></code></span></div>
<div class="block">Append a set of data edits to the WAL. 'Data' here means that the content in the edits will
 also have transitioned through the memstore.
 <p/>
 The WAL is not flushed/sync'd after this transaction completes BUT on return this edit must
 have its region edit/sequence id assigned else it messes up our unification of mvcc and
 sequenceid. On return <code>key</code> will have the region edit/sequence id filled in.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#appendData(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)">appendData</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>info</code> - the regioninfo associated with append</dd>
<dd><code>key</code> - Modified by this call; we add to it this edits region edit/sequence id.</dd>
<dd><code>edits</code> - Edits to append. MAY CONTAIN NO EDITS for case where we want to get an edit
              sequence id that is after all currently appended edits.</dd>
<dt>Returns:</dt>
<dd>Returns a 'transaction id' and <code>key</code> will have the region edit/sequence id
         in it.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../wal/WAL.html#appendMarker(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)"><code>WAL.appendMarker(RegionInfo, WALKeyImpl, WALEdit)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="appendMarker(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)">
<h3>appendMarker</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1453">appendMarker</a></span><wbr><span class="parameters">(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;info,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#appendMarker(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)">WAL</a></code></span></div>
<div class="block">Append an operational 'meta' event marker edit to the WAL. A marker meta edit could be a
 FlushDescriptor, a compaction marker, or a region event marker; e.g. region open or region
 close. The difference between a 'marker' append and a 'data' append as in
 <a href="../../wal/WAL.html#appendData(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)"><code>WAL.appendData(RegionInfo, WALKeyImpl, WALEdit)</code></a>is that a marker will not have transitioned
 through the memstore.
 <p/>
 The WAL is not flushed/sync'd after this transaction completes BUT on return this edit must
 have its region edit/sequence id assigned else it messes up our unification of mvcc and
 sequenceid. On return <code>key</code> will have the region edit/sequence id filled in.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#appendMarker(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)">appendMarker</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
<dt>Parameters:</dt>
<dd><code>info</code> - the regioninfo associated with append</dd>
<dd><code>key</code> - Modified by this call; we add to it this edits region edit/sequence id.</dd>
<dd><code>edits</code> - Edits to append. MAY CONTAIN NO EDITS for case where we want to get an edit
              sequence id that is after all currently appended edits.</dd>
<dt>Returns:</dt>
<dd>Returns a 'transaction id' and <code>key</code> will have the region edit/sequence id
         in it.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../wal/WAL.html#appendData(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit)"><code>WAL.appendData(RegionInfo, WALKeyImpl, WALEdit)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="markFutureDoneAndOffer(org.apache.hadoop.hbase.regionserver.wal.SyncFuture,long,java.lang.Throwable)">
<h3>markFutureDoneAndOffer</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1462">markFutureDoneAndOffer</a></span><wbr><span class="parameters">(<a href="SyncFuture.html" title="class in org.apache.hadoop.hbase.regionserver.wal">SyncFuture</a>&nbsp;future,
 long&nbsp;txid,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;t)</span></div>
<div class="block">Helper that marks the future as DONE and offers it back to the cache.</div>
</section>
</li>
<li>
<section class="detail" id="waitingRoll(int)">
<h3>waitingRoll</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1467">waitingRoll</a></span><wbr><span class="parameters">(int&nbsp;epochAndState)</span></div>
</section>
</li>
<li>
<section class="detail" id="writerBroken(int)">
<h3>writerBroken</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1471">writerBroken</a></span><wbr><span class="parameters">(int&nbsp;epochAndState)</span></div>
</section>
</li>
<li>
<section class="detail" id="epoch(int)">
<h3>epoch</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1475">epoch</a></span><wbr><span class="parameters">(int&nbsp;epochAndState)</span></div>
</section>
</li>
<li>
<section class="detail" id="trySetReadyForRolling()">
<h3>trySetReadyForRolling</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1480">trySetReadyForRolling</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="syncFailed(long,java.lang.Throwable)">
<h3>syncFailed</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1503">syncFailed</a></span><wbr><span class="parameters">(long&nbsp;epochWhenSync,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</span></div>
</section>
</li>
<li>
<section class="detail" id="onException(long,java.lang.Throwable)">
<h3>onException</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1508">onException</a></span><wbr><span class="parameters">(long&nbsp;epochWhenSync,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</span></div>
</section>
</li>
<li>
<section class="detail" id="syncCompleted(long,W,long,long)">
<h3 id="syncCompleted(long,org.apache.hadoop.hbase.wal.WALProvider.WriterBase,long,long)">syncCompleted</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1540">syncCompleted</a></span><wbr><span class="parameters">(long&nbsp;epochWhenSync,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 long&nbsp;processedTxid,
 long&nbsp;startTimeNs)</span></div>
</section>
</li>
<li>
<section class="detail" id="isHsync(long,long)">
<h3>isHsync</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1607">isHsync</a></span><wbr><span class="parameters">(long&nbsp;beginTxid,
 long&nbsp;endTxid)</span></div>
</section>
</li>
<li>
<section class="detail" id="sync(W)">
<h3 id="sync(org.apache.hadoop.hbase.wal.WALProvider.WriterBase)">sync</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1621">sync</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer)</span></div>
</section>
</li>
<li>
<section class="detail" id="getSyncedTxid(long,long)">
<h3>getSyncedTxid</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1647">getSyncedTxid</a></span><wbr><span class="parameters">(long&nbsp;processedTxid,
 long&nbsp;completableFutureResult)</span></div>
<div class="block">This method is to adapt <a href="FSHLog.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><code>FSHLog</code></a> and <a href="AsyncFSWAL.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><code>AsyncFSWAL</code></a>. For <a href="AsyncFSWAL.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><code>AsyncFSWAL</code></a>, we use
 <a href="#highestProcessedAppendTxid"><code>highestProcessedAppendTxid</code></a> at the point we calling
 <a href="AsyncFSWAL.html#doWriterSync(org.apache.hadoop.hbase.wal.WALProvider.AsyncWriter,boolean,long)"><code>AsyncFSWAL.doWriterSync(org.apache.hadoop.hbase.wal.WALProvider.AsyncWriter, boolean, long)</code></a> method as successful syncedTxid. For <a href="FSHLog.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><code>FSHLog</code></a>, because we
 use multi-thread <code>SyncRunner</code>s, we used the result of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> as
 successful syncedTxid.</div>
</section>
</li>
<li>
<section class="detail" id="doWriterSync(W,boolean,long)">
<h3 id="doWriterSync(org.apache.hadoop.hbase.wal.WALProvider.WriterBase,boolean,long)">doWriterSync</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1651">doWriterSync</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 boolean&nbsp;shouldUseHsync,
 long&nbsp;txidWhenSyn)</span></div>
</section>
</li>
<li>
<section class="detail" id="finishSyncLowerThanTxid(long)">
<h3>finishSyncLowerThanTxid</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1654">finishSyncLowerThanTxid</a></span><wbr><span class="parameters">(long&nbsp;txid)</span></div>
</section>
</li>
<li>
<section class="detail" id="finishSync()">
<h3>finishSync</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1670">finishSync</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getLastTxid(java.util.Deque)">
<h3>getLastTxid</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1705">getLastTxid</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&gt;&nbsp;queue)</span></div>
</section>
</li>
<li>
<section class="detail" id="appendAndSync()">
<h3>appendAndSync</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1709">appendAndSync</a></span>()
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="consume()">
<h3>consume</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1782">consume</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="shouldScheduleConsumer()">
<h3>shouldScheduleConsumer</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1876">shouldScheduleConsumer</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="append(org.apache.hadoop.hbase.client.RegionInfo,org.apache.hadoop.hbase.wal.WALKeyImpl,org.apache.hadoop.hbase.wal.WALEdit,boolean)">
<h3>append</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1914">append</a></span><wbr><span class="parameters">(<a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;hri,
 <a href="../../wal/WALKeyImpl.html" title="class in org.apache.hadoop.hbase.wal">WALKeyImpl</a>&nbsp;key,
 <a href="../../wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&nbsp;edits,
 boolean&nbsp;inMemstore)</span>
               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Append a set of edits to the WAL.
 <p/>
 The WAL is not flushed/sync'd after this transaction completes BUT on return this edit must
 have its region edit/sequence id assigned else it messes up our unification of mvcc and
 sequenceid. On return <code>key</code> will have the region edit/sequence id filled in.
 <p/>
 NOTE: This appends, at a time that is usually after this call returns, starts a mvcc
 transaction by calling 'begin' wherein which we assign this update a sequenceid. At assignment
 time, we stamp all the passed in Cells inside WALEdit with their sequenceId. You must
 'complete' the transaction this mvcc transaction by calling
 MultiVersionConcurrencyControl#complete(...) or a variant otherwise mvcc will get stuck. Do it
 in the finally of a try/finally block within which this appends lives and any subsequent
 operations like sync or update of memstore, etc. Get the WriteEntry to pass mvcc out of the
 passed in WALKey <code>walKey</code> parameter. Be warned that the WriteEntry is not
 immediately available on return from this method. It WILL be available subsequent to a sync of
 this append; otherwise, you will just have to wait on the WriteEntry to get filled in.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>hri</code> - the regioninfo associated with append</dd>
<dd><code>key</code> - Modified by this call; we add to it this edits region edit/sequence id.</dd>
<dd><code>edits</code> - Edits to append. MAY CONTAIN NO EDITS for case where we want to get an edit
                   sequence id that is after all currently appended edits.</dd>
<dd><code>inMemstore</code> - Always true except for case where we are writing a region event meta marker
                   edit, for example, a compaction completion record into the WAL or noting a
                   Region Open event. In these cases the entry is just so we can finish an
                   unfinished compaction after a crash when the new Server reads the WAL on
                   recovery, etc. These transition event 'Markers' do not go via the memstore.
                   When memstore is false, we presume a Marker event edit.</dd>
<dt>Returns:</dt>
<dd>Returns a 'transaction id' and <code>key</code> will have the region edit/sequence id
         in it.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSync(boolean)">
<h3>doSync</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1927">doSync</a></span><wbr><span class="parameters">(boolean&nbsp;forceSync)</span>
               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSync(long,boolean)">
<h3>doSync</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1943">doSync</a></span><wbr><span class="parameters">(long&nbsp;txid,
 boolean&nbsp;forceSync)</span>
               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="drainNonMarkerEditsAndFailSyncs()">
<h3>drainNonMarkerEditsAndFailSyncs</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-1963">drainNonMarkerEditsAndFailSyncs</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="createWriterInstance(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>createWriterInstance</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2005">createWriterInstance</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../../util/CommonFSUtils.StreamLacksCapabilityException.html" title="class in org.apache.hadoop.hbase.util">CommonFSUtils.StreamLacksCapabilityException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../../util/CommonFSUtils.StreamLacksCapabilityException.html" title="class in org.apache.hadoop.hbase.util">CommonFSUtils.StreamLacksCapabilityException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createCombinedWriter(W,W)">
<h3 id="createCombinedWriter(org.apache.hadoop.hbase.wal.WALProvider.WriterBase,org.apache.hadoop.hbase.wal.WALProvider.WriterBase)">createCombinedWriter</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2008">createCombinedWriter</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;localWriter,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;remoteWriter)</span></div>
</section>
</li>
<li>
<section class="detail" id="waitForSafePoint()">
<h3>waitForSafePoint</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2010">waitForSafePoint</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="recoverLease(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.conf.Configuration)">
<h3>recoverLease</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2029">recoverLease</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;p,
 org.apache.hadoop.conf.Configuration&nbsp;conf)</span></div>
</section>
</li>
<li>
<section class="detail" id="closeWriter(W,org.apache.hadoop.fs.Path)">
<h3 id="closeWriter(org.apache.hadoop.hbase.wal.WALProvider.WriterBase,org.apache.hadoop.fs.Path)">closeWriter</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2037">closeWriter</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 org.apache.hadoop.fs.Path&nbsp;path)</span></div>
</section>
</li>
<li>
<section class="detail" id="doReplaceWriter(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,W)">
<h3 id="doReplaceWriter(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path,org.apache.hadoop.hbase.wal.WALProvider.WriterBase)">doReplaceWriter</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2061">doReplaceWriter</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;oldPath,
 org.apache.hadoop.fs.Path&nbsp;newPath,
 <a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;nextWriter)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Notice that you need to clear the <a href="#rollRequested"><code>rollRequested</code></a> flag in this method, as the new writer
 will begin to work before returning from this method. If we clear the flag after returning from
 this call, we may miss a roll request. The implementation class should choose a proper place to
 clear the <a href="#rollRequested"><code>rollRequested</code></a> flag, so we do not miss a roll request, typically before you
 start writing to the new writer.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onWriterReplaced(W)">
<h3 id="onWriterReplaced(org.apache.hadoop.hbase.wal.WALProvider.WriterBase)">onWriterReplaced</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2103">onWriterReplaced</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;nextWriter)</span></div>
</section>
</li>
<li>
<section class="detail" id="doShutdown()">
<h3>doShutdown</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2105">doShutdown</a></span>()
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCleanUpResources()">
<h3>doCleanUpResources</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2152">doCleanUpResources</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="doAppend(W,org.apache.hadoop.hbase.regionserver.wal.FSWALEntry)">
<h3 id="doAppend(org.apache.hadoop.hbase.wal.WALProvider.WriterBase,org.apache.hadoop.hbase.regionserver.wal.FSWALEntry)">doAppend</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2155">doAppend</a></span><wbr><span class="parameters">(<a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a>&nbsp;writer,
 <a href="FSWALEntry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FSWALEntry</a>&nbsp;entry)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPipeline()">
<h3>getPipeline</h3>
<div class="member-signature"><span class="modifiers">abstract</span>&nbsp;<span class="return-type">org.apache.hadoop.hdfs.protocol.DatanodeInfo[]</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2160">getPipeline</a></span>()</div>
<div class="block">This method gets the pipeline for the current WAL.</div>
</section>
</li>
<li>
<section class="detail" id="getLogReplication()">
<h3>getLogReplication</h3>
<div class="member-signature"><span class="modifiers">abstract</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2165">getLogReplication</a></span>()</div>
<div class="block">This method gets the datanode replication count for the current WAL.</div>
</section>
</li>
<li>
<section class="detail" id="doCheckLogLowReplication()">
<h3>doCheckLogLowReplication</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2167">doCheckLogLowReplication</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="isWriterBroken()">
<h3>isWriterBroken</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2169">isWriterBroken</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="onAppendEntryFailed(java.io.IOException)">
<h3>onAppendEntryFailed</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2173">onAppendEntryFailed</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>&nbsp;exception)</span></div>
</section>
</li>
<li>
<section class="detail" id="checkSlowSyncCount()">
<h3>checkSlowSyncCount</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2179">checkSlowSyncCount</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="doCheckSlowSync()">
<h3>doCheckSlowSync</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2183">doCheckSlowSync</a></span>()</div>
<div class="block">Returns true if we exceeded the slow sync roll threshold over the last check interval</div>
</section>
</li>
<li>
<section class="detail" id="checkLogLowReplication(long)">
<h3>checkLogLowReplication</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2213">checkLogLowReplication</a></span><wbr><span class="parameters">(long&nbsp;checkInterval)</span></div>
</section>
</li>
<li>
<section class="detail" id="skipRemoteWAL(boolean)">
<h3>skipRemoteWAL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2241">skipRemoteWAL</a></span><wbr><span class="parameters">(boolean&nbsp;markerEditOnly)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../wal/WAL.html#skipRemoteWAL(boolean)">WAL</a></code></span></div>
<div class="block">Tell the WAL that when creating new writer you can skip creating the remote writer.
 <p>
 Used by sync replication for switching states from ACTIVE, where the remote cluster is broken.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../wal/WAL.html#skipRemoteWAL(boolean)">skipRemoteWAL</a></code>&nbsp;in interface&nbsp;<code><a href="../../wal/WAL.html" title="interface in org.apache.hadoop.hbase.wal">WAL</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="split(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)">
<h3>split</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2249">split</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 org.apache.hadoop.fs.Path&nbsp;p)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWriter()">
<h3>getWriter</h3>
<div class="member-signature"><span class="return-type"><a href="AbstractFSWAL.html" title="type parameter in AbstractFSWAL">W</a></span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2269">getWriter</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="usage()">
<h3>usage</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2273">usage</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="main(java.lang.String[])">
<h3>main</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#line-2288">main</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Pass one or more log file names, and it will either dump out a text version on
 <code>stdout</code> or split the specified log files.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
